# [docs](index.md) Â» hs.crash
---

Various features/facilities for developers who are working on Hammerspoon itself, or writing extensions for it. It is extremely unlikely that you should need any part of this extension, in a normal user configuration.

## API Overview
* Functions - API calls offered directly by the extension
 * [attemptMemoryRelease](#attemptmemoryrelease)
 * [crash](#crash)
 * [crashKV](#crashkv)
 * [crashLog](#crashlog)
 * [crashlyticsCrash](#crashlyticscrash)
 * [dumpCLIBS](#dumpclibs)
 * [residentSize](#residentsize)
 * [throwObjCException](#throwobjcexception)

## API Documentation

### Functions

#### [attemptMemoryRelease](#attemptmemoryrelease)
| <span style="float: left;">**Signature**</span> | <span style="float: left;">`hs.crash.attemptMemoryRelease()` </span>                                                          |
| -----------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| **Type**                                             | Function                                                                                         |
| **Description**                                      | Attempts to reduce RAM usage of Hammerspoon                                                                                         |
| **Parameters**                                       | <ul><br /><li>None</li><br /></ul>                                        |
| **Returns**                                          | <ul><br /><li>None</li><br /></ul>                                           |
| **Notes**                                            | <ul><br /><li>This function will print some memory usage numbers (in bytes) to the Hammerspoon Console before and after forcing Lua's garbage collector</li><br /></ul>                                             |

#### [crash](#crash)
| <span style="float: left;">**Signature**</span> | <span style="float: left;">`hs.crash.crash()` </span>                                                          |
| -----------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| **Type**                                             | Function                                                                                         |
| **Description**                                      | Causes Hammerspoon to immediately crash                                                                                         |
| **Parameters**                                       | <ul><br /><li>None</li><br /></ul>                                        |
| **Returns**                                          | <ul><br /><li>None</li><br /></ul>                                           |
| **Notes**                                            | <ul><br /><li>This is for testing purposes only, you are extremely unlikely to need this in normal Hammerspoon usage</li><br /></ul>                                             |

#### [crashKV](#crashkv)
| <span style="float: left;">**Signature**</span> | <span style="float: left;">`hs.crash.crashKV(key, value)` </span>                                                          |
| -----------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| **Type**                                             | Function                                                                                         |
| **Description**                                      | Sets a key/value pair in any Crashlytics crash dump generated by this Hamerspoon session                                                                                         |
| **Parameters**                                       | <ul><br /><li>key - A string containing the key name of the pair * value - A string containing the value of the pair</li><br /></ul>                                        |
| **Returns**                                          | <ul><br /><li>None</li><br /></ul>                                           |

#### [crashLog](#crashlog)
| <span style="float: left;">**Signature**</span> | <span style="float: left;">`hs.crash.crashLog(logMessage)` </span>                                                          |
| -----------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| **Type**                                             | Function                                                                                         |
| **Description**                                      | Leaves a breadcrumb log message in any Crashlytics crash dump generated by this Hammerspoon session                                                                                         |
| **Parameters**                                       | <ul><br /><li>logMessage - A string containing a message to log</li><br /></ul>                                        |
| **Returns**                                          | <ul><br /><li>None</li><br /></ul>                                           |
| **Notes**                                            | <ul><br /><li>This is probably only useful to extension developers. If you are trying to track down a confusing crash, and you have access to the Crashlytics project for Hammerspoon (or access to someone who has access!), this can be a useful way to leave breadcrumbs from Lua in the crash dump</li><br /></ul>                                             |

#### [crashlyticsCrash](#crashlyticscrash)
| <span style="float: left;">**Signature**</span> | <span style="float: left;">`hs.crash.crashlyticsCrash()` </span>                                                          |
| -----------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| **Type**                                             | Function                                                                                         |
| **Description**                                      | Causes Crashlytics to immediately crash                                                                                         |
| **Parameters**                                       | <ul><br /><li>None</li><br /></ul>                                        |
| **Returns**                                          | <ul><br /><li>None</li><br /></ul>                                           |
| **Notes**                                            | <ul><br /><li>This is for testing purposes only, you are extremely unlikely to need this in normal Hammerspoon usage</li><br /></ul>                                             |

#### [dumpCLIBS](#dumpclibs)
| <span style="float: left;">**Signature**</span> | <span style="float: left;">`hs.crash.dumpCLIBS() -> table` </span>                                                          |
| -----------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| **Type**                                             | Function                                                                                         |
| **Description**                                      | Dumps the contents of Lua's CLIBS registry                                                                                         |
| **Parameters**                                       | <ul><br /><li>None</li><br /></ul>                                        |
| **Returns**                                          | <ul><br /><li>A table containing all the paths of C libraries that have been loaded into the Lua runtime</li><br /></ul>                                           |
| **Notes**                                            | <ul><br /><li>This is probably only useful to extension developers as a useful way of ensuring that you are loading C libraries from the places you expect.</li><br /></ul>                                             |

#### [residentSize](#residentsize)
| <span style="float: left;">**Signature**</span> | <span style="float: left;">`hs.crash.residentSize() -> integer or nil` </span>                                                          |
| -----------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| **Type**                                             | Function                                                                                         |
| **Description**                                      | Gets the resident size of the Hammerspoon process                                                                                         |
| **Parameters**                                       | <ul><br /><li>None</li><br /></ul>                                        |
| **Returns**                                          | <ul><br /><li>An integer containing the amount of RAM in use by Hammerspoon (in bytes), or nil if an error occurred</li><br /></ul>                                           |

#### [throwObjCException](#throwobjcexception)
| <span style="float: left;">**Signature**</span> | <span style="float: left;">`hs.crash.throwObjCException(name, message)` </span>                                                          |
| -----------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| **Type**                                             | Function                                                                                         |
| **Description**                                      | Causes Hammerspoon to generate an Objective C exception                                                                                         |
| **Parameters**                                       | <ul><br /><li>name - A string containing the name of the exception * message - A human readabke string explaining the exception</li><br /></ul>                                        |
| **Returns**                                          | <ul><br /><li>None</li><br /></ul>                                           |
| **Notes**                                            | <ul><br /><li>Outside of a context of a Lua pcall() (or a C lua_pcall()), this will cause Hammerspoon to exit. We follow the safe behaviour of terminating the app on any unhandled Objective C exception.</li><br /></ul>                                             |

